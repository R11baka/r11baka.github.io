---
layout: post
title:  Слушаем spotify
date:   2016-07-15 11:05:00 +0300
categories: shell lifehack spotify
---
Удаленный сервер полезен дома не только сайтами, но и развлекухами. Например, чтоб слушать spotify (этот музыкальные сервис не доступен жителям СНГ). По сути настройка заключается в том, чтоб создать туннель между нашим компом и сервером по ssh. Сам туннель создается 1 коммандой, но лучше сделать предварительные настройки на сервере.

# Где взять сервер
А я например арендую сервак у [Digital Ocean](https://m.do.co/c/5617e6f93bbd) (Рефферальная ссылка).Сервак нужен штатовский.
У меня самый минимальный тариф за  5 баксов в месяц. Для spotify хватает

# ssh с ключами
* Сначала зайдем на сервер и создадим юзера,и установим ему пароль
{% highlight shell %}
useradd deploy
passwd deploy # установить пароль
{% endhighlight %}
* потом с домашнего компа скопировать ключ на удаленный сервер
{% highlight shell %}
ssh-copy-id -i ~/.ssh/id_rsa.pub deploy@10.x.xxx.xxx.xx
{% endhighlight %}
Проверяем зашло ли без пароля
{% highlight shell %}
ssh  root@10x.xxx.xxx.xx
{% endhighlight %}
# Создаем прокси
{% highlight shell %}
ssh -D 8080 root@10x.xxx.xxx.xx -p 22
{% endhighlight %}

на нашей машине мы открываем порт 8080, который пробрасывается на 22 порт удаленного сервера.

И готово,ставим в spotify клиенте прокси 127.0.0.1:8080 и слушаем музыку


